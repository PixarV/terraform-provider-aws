---
subcategory: "IAM (Identity & Access Management)"
layout: "aws"
page_title: "aws_iam_user_group_membership"
description: |-
  Adds an IAM user to IAM groups.
---

[tf-group-membership]: group_membership.html

# Resource: aws_iam_user_group_membership

Adds an IAM user to IAM groups.

~> This resource can be used multiple times with the same user for non-overlapping groups.

To manage users in a specific group, see the [`aws_iam_group_membership` resource][tf-group-membership].

## Example Usage

```terraform
resource "aws_iam_user" "user" {
  name = "tf-user"
}

resource "aws_iam_project" "project" {
  name = "tf-project"
}

resource "aws_iam_group" "group1" {
  name = "tf-group1"
  type = "global"
}

resource "aws_iam_group" "group2" {
  name = "tf-group2"
  type = "project"
}

resource "aws_iam_group" "group3" {
  name = "tf-group3"
  type = "project"
}

resource "aws_iam_user_group_membership" "global-groups" {
  user = aws_iam_user.user.name

  # global groups only
  group_arns = [
    aws_iam_group.group1.arn,
  ]
}

resource "aws_iam_user_group_membership" "project-groups" {
  user    = aws_iam_user.user.name
  project = aws_iam_project.example.name

  # project groups only
  group_arns = [
    aws_iam_group.group2.arn,
    aws_iam_group.group3.arn,
  ]
}
```

## Argument Reference

The following arguments are supported:

* `group_arns` - (Required) List of Amazon Resource Names (ARNs) of the groups to which the user is added.

~> All groups in the `group_arns` must be of the same type: **global** or **project**.
If groups have a **project** type, `project` must be specified.

* `project` - (Optional) The name of the project, which is specified when the user is added to project groups.
* `user` - (Required) The name of the user.

## Attribute Reference

In addition to all arguments above, the following attributes are exported:

* `id` - Unique ID generated by Terraform with the `terraform-` prefix.

## Import

IAM user group memberships can be imported using the `user`, optionally `project`, and `group_arns` separated by a hash sign (`#`).

~> If user isn't a member of some of the specified groups, these groups will be ignored during import.

Examples:

* import user global groups memberships:

```
$ terraform import aws_iam_user_group_membership.global-groups user-name#arn:c2:iam:::group/IAMAdministrators
```

* import user project groups memberships for project `project-example`:

```
$ terraform import aws_iam_user_group_membership.project-groups user-name#project-example#arn:c2:iam:::group/InstanceViewers#arn:c2:iam:::group/BackupOperators
```
